# ğŸ¤– Loki - Trá»£ lÃ½ AI Messenger NÃ¢ng cao

Loki lÃ  má»™t chatbot Facebook Messenger tiÃªn tiáº¿n Ä‘Æ°á»£c xÃ¢y dá»±ng báº±ng Python, tÃ­ch há»£p Selenium vÃ  cÃ¡c kháº£ nÄƒng AI máº¡nh máº½.
<div align="center">
  
<img src="https://capsule-render.vercel.app/api?type=waving&color=gradient&height=100&section=header&text=Loki%20Assistant&fontSize=50&fontAlignY=70&animation=fadeIn&fontColor=fff&desc=Your%20Intelligent%20Messenger%20Companion&descAlignY=95&descAlign=60" />

<p align="center">
  <img src="https://readme-typing-svg.herokuapp.com?font=Fira+Code&weight=500&size=28&pause=1000&color=18B8D1&center=true&vCenter=true&random=false&width=435&lines=AI+Messenger+Assistant;Powered+by+Gemini+AI;Built+with+Selenium;Made+with+%E2%9D%A4%EF%B8%8F" alt="Typing SVG" />
</p>

### ğŸ‘¨â€ğŸ’» Developed with â¤ï¸ by tanbaycu

<div align="center">
  <img src="https://img.shields.io/badge/maintained%20by-tanbaycu-blue?style=for-the-badge&logo=github&logoColor=white"/>
  <img src="https://komarev.com/ghpvc/?username=tanbaycu&label=Project%20views&color=0e75b6&style=for-the-badge" alt="Profile views"/>
</div>

<br/>

<div align="center">
  <img src="https://img.shields.io/badge/Built%20with-Selenium-43B02A?style=for-the-badge&logo=selenium&logoColor=white"/>
  <img src="https://img.shields.io/badge/Powered%20by-GeminiAI-4285F4?style=for-the-badge&logo=google&logoColor=white"/>
  <img src="https://img.shields.io/badge/Made%20with-Python-FFD43B?style=for-the-badge&logo=python&logoColor=blue"/>
</div>

<div align="center">
  <img src="https://img.shields.io/badge/version-1.0.0-blue.svg?cacheSeconds=2592000&style=flat-square"/>
  <img src="https://img.shields.io/badge/License-MIT-yellow.svg?style=flat-square"/>
  <img src="https://img.shields.io/badge/PRs-welcome-brightgreen.svg?style=flat-square"/>
</div>

<br/>



### *Building smarter conversations, one message at a time* âœ¨

<div align="center">
  <img src="https://raw.githubusercontent.com/andreasbm/readme/master/assets/lines/rainbow.png" width="80%"/>
</div>



<div align="center">
  <img src="https://raw.githubusercontent.com/platane/snk/output/github-contribution-grid-snake-dark.svg" width="100%"/>
</div>

<img src="https://capsule-render.vercel.app/api?type=waving&color=gradient&height=100&section=footer" />

</div>

## ğŸŒŸ TÃ­nh nÄƒng chÃ­nh

### 1. TÃ­ch há»£p Messenger tá»± Ä‘á»™ng
- ÄÄƒng nháº­p tá»± Ä‘á»™ng vá»›i xá»­ lÃ½ xÃ¡c thá»±c hai lá»›p
- Theo dÃµi tin nháº¯n vÃ  hÃ¬nh áº£nh má»›i trong thá»i gian thá»±c
- Gá»­i tin nháº¯n vÄƒn báº£n vÃ  hÃ¬nh áº£nh má»™t cÃ¡ch linh hoáº¡t

### 2. TÃ­ch há»£p AI thÃ´ng minh
- Sá»­ dá»¥ng Google Gemini AI Ä‘á»ƒ táº¡o pháº£n há»“i thÃ´ng minh
- Xá»­ lÃ½ ngÃ´n ngá»¯ tá»± nhiÃªn Ä‘á»ƒ hiá»ƒu ngá»¯ cáº£nh vÃ  Ã½ Ä‘á»‹nh
- PhÃ¢n tÃ­ch hÃ¬nh áº£nh thÃ´ng qua Gemini Vision

### 3. Äa ngÃ´n ngá»¯
- Há»— trá»£ hÆ¡n 20 ngÃ´n ngá»¯ vá»›i chuyá»ƒn Ä‘á»•i liá»n máº¡ch
- Dá»‹ch tá»± Ä‘á»™ng cÃ¡c pháº£n há»“i vÃ  thÃ´ng bÃ¡o há»‡ thá»‘ng
- LÆ°u trá»¯ bá»™ nhá»› cache dá»‹ch Ä‘á»ƒ tá»‘i Æ°u hiá»‡u suáº¥t

### 4. Quáº£n lÃ½ bá»™ nhá»› thÃ´ng minh
- LÆ°u trá»¯ lá»‹ch sá»­ trÃ² chuyá»‡n dÃ i háº¡n báº±ng JSON
- TÃ³m táº¯t cuá»™c trÃ² chuyá»‡n theo khoáº£ng thá»i gian
- Tá»± Ä‘á»™ng dá»n dáº¹p báº£n ghi cÅ© Ä‘á»ƒ tá»‘i Æ°u hÃ³a bá»™ nhá»›

### 5. Xá»­ lÃ½ hÃ¬nh áº£nh nÃ¢ng cao
- Tá»‘i Æ°u hÃ³a hÃ¬nh áº£nh tá»± Ä‘á»™ng trÆ°á»›c khi gá»­i
- Táº¡o thÆ° viá»‡n áº£nh tá»« tÃ¬m kiáº¿m Unsplash
- LÆ°u trá»¯ vÃ  quáº£n lÃ½ hÃ¬nh áº£nh táº¡m thá»i hiá»‡u quáº£

### 6. TÃ­ch há»£p cÃ´ng cá»¥ Ä‘a dáº¡ng
- RÃºt gá»n URL vÃ  táº¡o mÃ£ QR
- PhÃ¢n tÃ­ch vÃ  theo dÃµi lá»‹ch sá»­ URL
- Táº¡o vÃ  giáº£i thÃ­ch mÃ£ nguá»“n cho nhiá»u ngÃ´n ngá»¯ láº­p trÃ¬nh

### 7. TÃ­nh nÄƒng giáº£i trÃ­
- TrÃ² chÆ¡i ná»‘i tá»« tÆ°Æ¡ng tÃ¡c vá»›i AI
- Cháº¿ Ä‘á»™ facts ngáº«u nhiÃªn tá»« nhiá»u nguá»“n
- TÃ¬m kiáº¿m vÃ  Ä‘á»‹nh dáº¡ng cÃ´ng thá»©c náº¥u Äƒn

### 8. Kháº£ nÄƒng tÆ°Æ¡ng tÃ¡c báº±ng giá»ng nÃ³i
- Chuyá»ƒn Ä‘á»•i vÄƒn báº£n thÃ nh giá»ng nÃ³i
- Xá»­ lÃ½ lá»‡nh giá»ng nÃ³i (Ä‘ang phÃ¡t triá»ƒn)

## ğŸ› ï¸ Kiáº¿n trÃºc ká»¹ thuáº­t

### Cáº¥u trÃºc lá»›p chÃ­nh

1. **FacebookLogin**
   - Xá»­ lÃ½ quÃ¡ trÃ¬nh Ä‘Äƒng nháº­p cÆ¡ báº£n
   - Quáº£n lÃ½ cookie phiÃªn
   - Triá»ƒn khai kiá»ƒm tra xÃ¡c minh

2. **LoginCreateSession** (káº¿ thá»«a FacebookLogin)
   - Cáº¥u hÃ¬nh trÃ¬nh duyá»‡t chi tiáº¿t
   - Äiá»u hÆ°á»›ng trang vÃ  xá»­ lÃ½ thÃ´ng bÃ¡o

3. **Listener** (káº¿ thá»«a LoginCreateSession)
   - Theo dÃµi tin nháº¯n vÃ  hÃ¬nh áº£nh má»›i
   - Xá»­ lÃ½ sá»± kiá»‡n Ä‘áº§u vÃ o

4. **Sender** (káº¿ thá»«a Listener)
   - Gá»­i tin nháº¯n vÄƒn báº£n vÃ  hÃ¬nh áº£nh
   - Äá»‹nh dáº¡ng tin nháº¯n cho Messenger

5. **MesChat** (káº¿ thá»«a Sender)
   - Lá»›p chÃ­nh káº¿t há»£p táº¥t cáº£ chá»©c nÄƒng
   - Xá»­ lÃ½ lá»‡nh vÃ  luá»“ng há»™i thoáº¡i
   - TÃ­ch há»£p AI vÃ  cÃ´ng cá»¥ bá»• sung

### CÃ¡c thÃ nh pháº§n quan trá»ng

- **Quáº£n lÃ½ bá»™ nhá»›**: Sá»­ dá»¥ng JSON Ä‘á»ƒ lÆ°u trá»¯
- **Xá»­ lÃ½ lá»—i**: Báº¯t vÃ  bÃ¡o cÃ¡o lá»—i toÃ n diá»‡n
- **Giá»›i háº¡n tá»‘c Ä‘á»™**: CÆ¡ cháº¿ thá»­ láº¡i thÃ´ng minh
- **Dá»n dáº¹p tÃ i nguyÃªn**: Quáº£n lÃ½ file táº¡m tá»± Ä‘á»™ng

## ğŸš€ CÃ i Ä‘áº·t vÃ  cáº¥u hÃ¬nh

### YÃªu cáº§u há»‡ thá»‘ng
- Python 3.8+
- Google Chrome hoáº·c Chromium
- ChromeDriver tÆ°Æ¡ng thÃ­ch

### ThÆ° viá»‡n Python cáº§n thiáº¿t
```bash
pip install selenium google-translator requests pillow colorama psutil emoji google-generativeai
```


### Biáº¿n mÃ´i trÆ°á»ng

```python
GEMINI_API_KEY = "your_gemini_api_key"
GITHUB_TOKEN = "your_github_token"
UNSPLASH_ACCESS_KEY = "your_unsplash_access_key"
```

### CÃ¡ch sá»­ dá»¥ng cÆ¡ báº£n

```python
bot = MesChat(
    email_or_phone="your_facebook_email",
    password="your_facebook_password",
    group_or_chat="https://www.messenger.com/t/your_chat_id"
)

bot.start()
```

## ğŸ® Lá»‡nh cÃ³ sáºµn

### Lá»‡nh chung

- `/language [mÃ£]`: Thay Ä‘á»•i ngÃ´n ngá»¯ bot
- `/summary [khoáº£ng thá»i gian]`: Nháº­n tÃ³m táº¯t cuá»™c trÃ² chuyá»‡n
- `/clear`: XÃ³a lá»‹ch sá»­ trÃ² chuyá»‡n
- `/help`: Hiá»ƒn thá»‹ tin nháº¯n trá»£ giÃºp
- `/guide`: Hiá»ƒn thá»‹ hÆ°á»›ng dáº«n chi tiáº¿t


### Lá»‡nh cÃ´ng cá»¥

- `/short [url]`: RÃºt gá»n URL
- `/qr [ná»™i dung]`: Táº¡o mÃ£ QR
- `/analyze [url]`: PhÃ¢n tÃ­ch URL
- `/urlhistory`: Xem lá»‹ch sá»­ cÃ´ng cá»¥ URL


### AI & Giáº£i trÃ­

- `/code [ngÃ´n ngá»¯] [yÃªu cáº§u]`: Táº¡o mÃ£
- `/noitu [tá»«]`: Báº¯t Ä‘áº§u trÃ² chÆ¡i ná»‘i tá»«
- `/voice [vÄƒn báº£n]`: Chuyá»ƒn vÄƒn báº£n thÃ nh giá»ng nÃ³i
- `/recipe [truy váº¥n]`: TÃ¬m kiáº¿m cÃ´ng thá»©c náº¥u Äƒn
- `/fact`: Báº­t cháº¿ Ä‘á»™ fact ngáº«u nhiÃªn
- `/image [truy váº¥n]`: TÃ¬m kiáº¿m vÃ  táº¡o thÆ° viá»‡n áº£nh


## ğŸ”§ TÃ­nh nÄƒng nÃ¢ng cao

### Quáº£n lÃ½ bá»™ nhá»›

- **LÆ°u trá»¯ JSON**: Sá»­ dá»¥ng `json` Ä‘á»ƒ lÆ°u vÃ  táº£i lá»‹ch sá»­
- **TÃ³m táº¯t thÃ´ng minh**: Sá»­ dá»¥ng Gemini AI Ä‘á»ƒ táº¡o tÃ³m táº¯t
- **Giá»›i háº¡n kÃ­ch thÆ°á»›c**: Tá»± Ä‘á»™ng cáº¯t bá»›t khi vÆ°á»£t quÃ¡ `max_memory_size`


### Xá»­ lÃ½ lá»—i vÃ  thá»­ láº¡i

- **ÄÄƒng nháº­p**: Thá»­ láº¡i tá»± Ä‘á»™ng vá»›i `login_twice()`
- **API Gemini**: Thá»­ láº¡i vá»›i thá»i gian chá» tÄƒng dáº§n
- **Gá»­i hÃ¬nh áº£nh**: CÆ¡ cháº¿ thá»­ láº¡i trong `attempt_send_image()`


### Tá»‘i Æ°u hÃ³a hiá»‡u suáº¥t

- **NÃ©n hÃ¬nh áº£nh**: Sá»­ dá»¥ng Pillow Ä‘á»ƒ tá»‘i Æ°u hÃ³a trÆ°á»›c khi gá»­i
- **Bá»™ nhá»› cache dá»‹ch**: LÆ°u trá»¯ báº£n dá»‹ch Ä‘á»ƒ tÃ¡i sá»­ dá»¥ng
- **Dá»n dáº¹p tÃ i nguyÃªn**: XÃ³a file táº¡m vÃ  giá»›i háº¡n sá»‘ lÆ°á»£ng áº£nh lÆ°u trá»¯


## ğŸ§  TÃ­ch há»£p AI

### Google Gemini

- Sá»­ dá»¥ng mÃ´ hÃ¬nh `gemini-1.5-flash-8b-latest` cho pháº£n há»“i nhanh
- Xá»­ lÃ½ cáº£ vÄƒn báº£n vÃ  hÃ¬nh áº£nh Ä‘áº§u vÃ o
- TÃ¹y chá»‰nh nhiá»‡t Ä‘á»™ vÃ  tham sá»‘ sinh cho Ä‘áº§u ra Ä‘a dáº¡ng


### Xá»­ lÃ½ ngÃ´n ngá»¯ tá»± nhiÃªn

- PhÃ¢n tÃ­ch Ã½ Ä‘á»‹nh ngÆ°á»i dÃ¹ng tá»« tin nháº¯n Ä‘áº§u vÃ o
- Táº¡o pháº£n há»“i tá»± nhiÃªn vÃ  phÃ¹ há»£p ngá»¯ cáº£nh
- Há»— trá»£ Ä‘a ngÃ´n ngá»¯ vá»›i dá»‹ch tá»± Ä‘á»™ng


### PhÃ¢n tÃ­ch hÃ¬nh áº£nh

- Sá»­ dá»¥ng Gemini Vision Ä‘á»ƒ mÃ´ táº£ vÃ  phÃ¢n tÃ­ch hÃ¬nh áº£nh
- TÃ­ch há»£p vá»›i chá»©c nÄƒng tÃ¬m kiáº¿m vÃ  táº¡o thÆ° viá»‡n áº£nh


## ğŸ¨ Xá»­ lÃ½ hÃ¬nh áº£nh

### Tá»‘i Æ°u hÃ³a

```python
def handle_image(self, img_path):
    with Image.open(img_path) as img:
        max_size = (1280, 1280)
        img.thumbnail(max_size, Image.LANCZOS)
        img.save(temp_filename, quality=85, optimize=True)
```

### Táº¡o thÆ° viá»‡n áº£nh

- Sá»­ dá»¥ng API Unsplash Ä‘á»ƒ tÃ¬m kiáº¿m áº£nh cháº¥t lÆ°á»£ng cao
- Táº¡o gallery trÃªn Telegra.ph vá»›i 20 áº£nh Ä‘Æ°á»£c lá»c
- Sáº¯p xáº¿p áº£nh theo sá»‘ lÆ°á»£t thÃ­ch Ä‘á»ƒ Ä‘áº£m báº£o cháº¥t lÆ°á»£ng


## ğŸ” Báº£o máº­t

- Sá»­ dá»¥ng biáº¿n mÃ´i trÆ°á»ng cho khÃ³a API nháº¡y cáº£m
- Xá»­ lÃ½ an toÃ n thÃ´ng tin Ä‘Äƒng nháº­p Facebook
- Giá»›i háº¡n quyá»n truy cáº­p vÃ o chá»©c nÄƒng nháº¡y cáº£m


## ğŸ› Gá»¡ lá»—i vÃ  kháº¯c phá»¥c sá»± cá»‘

### Váº¥n Ä‘á» thÆ°á»ng gáº·p

1. **Lá»—i Ä‘Äƒng nháº­p**: Kiá»ƒm tra thÃ´ng tin Ä‘Äƒng nháº­p vÃ  cÃ i Ä‘áº·t báº£o máº­t Facebook
2. **Giá»›i háº¡n API**: Thá»±c hiá»‡n Ä‘á»™ trá»… phÃ¹ há»£p giá»¯a cÃ¡c yÃªu cáº§u
3. **Váº¥n Ä‘á» bá»™ nhá»›**: GiÃ¡m sÃ¡t vÃ  dá»n dáº¹p file táº¡m thÆ°á»ng xuyÃªn



## ğŸ“š TÃ i nguyÃªn bá»• sung

- [TÃ i liá»‡u API Facebook Messenger](https://developers.facebook.com/docs/messenger-platform)
- [TÃ i liá»‡u Selenium](https://selenium-python.readthedocs.io/)
- [TÃ i liá»‡u Google Gemini AI](https://ai.google.dev/docs)


## ğŸ¤ ÄÃ³ng gÃ³p

ChÃºng tÃ´i hoan nghÃªnh má»i Ä‘Ã³ng gÃ³p! Vui lÃ²ng gá»­i issues vÃ  pull requests.


---


## Äá»c thÃªm táº¡i Ä‘Ã¢y




[HÆ°á»›ng dáº«n toÃ n diá»‡n](https://telegra.ph/tanbaycu---chatbot-guide-11-20)